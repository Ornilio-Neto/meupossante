{% extends "base.html" %} {% block title %}Login - Meu Possante{% endblock %} {%
block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/login.css') }}"
/>
{% endblock %} {# Este bloco substitui o main_content do base.html para criar um
layout customizado #} {% block main_content %}
<div class="login-page">
  <div class="login-container">
    <h1 class="text-center h3 mb-4">Meu Possante</h1>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for category, message in messages %}
    <div
      class="alert alert-{{ 'danger' if category == 'danger' else 'info' }} text-center small p-2 mb-3"
      role="alert"
    >
      {{ message }}
    </div>
    {% endfor %} {% endif %} {% endwith %}

    <form method="POST" action="{{ url_for('main.login') }}" novalidate>
      {{ form.hidden_tag() }}

      <div class="form-floating mb-3">
        {{ form.email(class="form-control", placeholder="E-mail") }} {{
        form.email.label(class="form-label") }}
      </div>
      {% for error in form.email.errors %}
      <div class="invalid-feedback d-block text-start ps-1 mb-2">
        {{ error }}
      </div>
      {% endfor %}

      <div class="form-floating mb-4">
        {{ form.password(class="form-control", placeholder="Senha") }} {{
        form.password.label(class="form-label") }}
      </div>
      {% for error in form.password.errors %}
      <div class="invalid-feedback d-block text-start ps-1 mb-2">
        {{ error }}
      </div>
      {% endfor %}

      <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="form-check">
          {{ form.remember_me(class="form-check-input") }} {{
          form.remember_me.label(class="form-check-label") }}
        </div>
        <a href="#" class="forgot-password-link">Esqueceu a senha?</a>
      </div>

      <div class="d-grid mb-3">{{ form.submit(class="btn btn-primary") }}</div>
    </form>

    <div class="divider">ou</div>

    <div class="d-grid">
      <a
        href="{{ url_for('main.login_google') }}"
        class="btn btn-outline-secondary"
      >
        <i class="bi bi-google me-2"></i> Entrar com Google
      </a>
    </div>

    <div class="text-center mt-4">
      <a href="{{ url_for('main.register') }}" class="forgot-password-link"
        >NÃ£o tem uma conta? Crie agora!</a
      >
    </div>
  </div>
</div>
{% endblock main_content %}
